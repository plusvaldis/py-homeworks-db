# Домашнее задание к лекции «Продвинутая выборка данных»

## Задание 1

Продолжаем работать со своей базой данных. В этом задании заполните базу данных из домашнего задания к занятию "Работа с SQL. Создание БД". В ней должно быть:

- не менее 4 исполнителей,
- не менее 3 жанров,
- не менее 3 альбомов,
- не менее 6 треков,
- не менее 4 сборников.

Внимание: должны быть заполнены все поля каждой таблицы, в том числе таблицы связей исполнителей с жанрами, исполнителей с альбомами, сборников с треками.

```bash
insert into Genre values
(1, 'pop'),
(2, 'rap'),
(3, 'minimal'),
(4, 'techno')

insert into executor values
(1, 'Jonatah'),
(2, 'Smith'),
(3, 'Fill'),
(4, 'Lick')

insert into album values
(1, 'album number one', '2021-01-08'),
(2, 'album number two', '2019-05-11'),
(3, 'album number three', '2011-02-01')

insert into track values
(1, 3, 'silinium track', 124),
(2, 1, 'lucky track name', 231),
(3, 2, 'disc tra', 211),
(4, 2, 'lilck ass', 111),
(5, 1, 'foo bar name', 112),
(6, 1, 'good maa', 212)

insert into collection values
(1, 'collection 2021', '2021-01-08'),
(2, 'collection 2019', '2019-05-11'),
(3, 'collection 2011', '2011-02-01'),
(4, 'collection 2025', '2025-01-01')

insert into exege values
(1, 2),
(2, 3),
(3, 1),
(4, 4),
(4, 1)

insert into exea values
(1, 1),
(3, 2),
(4, 3),
(2, 2)

inserпt into "exec" values
(1, 3),
(2, 1),
(3, 2),
(4, 2),
(5, 1),
(6, 1)
```

## Задание 2

Написать SELECT-запросы, которые выведут информацию согласно инструкциям ниже.

Внимание: результаты запросов не должны быть пустыми, учтите это при заполнении таблиц.

1. Название и продолжительность самого длительного трека.  

```bash
select name, duration from track where duration >= (SELECT MAX(duration) from track)

       name       | duration 
------------------+----------
 lucky track name |      231
(1 row)

```
2. Название треков, продолжительность которых не менее 3,5 минут.  
```bash
select name from track where duration > 180;

       name       
------------------
 lucky track name
 disc tra
 good maa
(3 rows)

```
3. Названия сборников, вышедших в период с 2018 по 2020 год включительно.  
```bash
select name from collection where year >= '2018-01-01' and year <='2020-12-31';

      name       
-----------------
 collection 2019
(1 row)

```
4. Исполнители, чьё имя состоит из одного слова.  
```bash
select name from executor where name NOT LIKE '% %';


  name   
---------
 Jonatah
 Smith
 Fill
 Lick
(4 rows)
```
5. Название треков, которые содержат слово «мой» или «my».
```bash
select name from track where name LIKE '%my%' or name LIKE '%мой%';


   name    
-----------
 my lock a
(1 row)

```


## Задание 3

Написать SELECT-запросы, которые выведут информацию согласно инструкциям ниже.

Внимание: результаты запросов не должны быть пустыми, при необходимости добавьте данные в таблицы.

1. Количество исполнителей в каждом жанре.
2. Количество треков, вошедших в альбомы 2019–2020 годов.
3. Средняя продолжительность треков по каждому альбому.
4. Все исполнители, которые не выпустили альбомы в 2020 году.
5. Названия сборников, в которых присутствует конкретный исполнитель (выберите его сами).


## Задание 4(необязательное)

Написать SELECT-запросы, которые выведут информацию согласно инструкциям ниже.

Внимание: результаты запросов не должны быть пустыми, при необходимости добавьте данные в таблицы.

1. Названия альбомов, в которых присутствуют исполнители более чем одного жанра.
2. Наименования треков, которые не входят в сборники.
3. Исполнитель или исполнители, написавшие самый короткий по продолжительности трек, — теоретически таких треков может быть несколько.
4. Названия альбомов, содержащих наименьшее количество треков.

---

Результатом работы будет три файла в формате `.sql`:

- с INSERT-запросами (задание 1),
- с SELECT-запросами (задание 2,3,4),
- с CREATE-запросами (из предыдущей домашней работы).
